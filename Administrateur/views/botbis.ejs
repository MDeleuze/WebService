<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {
  font-family: Arial, Helvetica, sans-serif;
}

.navbar {
  overflow: hidden;
  background-color: #333;
}

.navbar a {
  float: left;
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;  
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: red;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}

.bouton {
	padding:6px 0 6px 0;
	font:bold 15px Arial;
	background:#f5f5f5;
	color:#555;
	border-radius:2px;
	width:200px;
	border:1px solid #ccc;
  	display: block;
	margin : auto;
}

.table {
	
   margin-left:auto;
   margin-right:auto;
}

.style {
	overflow: hidden;
        background-color: #333;
	margin : 0 auto;
	color: white;
}

.style b {
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  margin : auto;
  width:100px;
}

</style>
</head>
<body>

<div class="navbar">
  <a href="home">Home</a>
  <a href="botbis">Bot
  <div class="dropdown">
      <i class="fa fa-caret-down"></i>
      <div class="dropdown-content">
      	<a href="#">Bot 1</a>
      	<a href="#">Bot 2</a>
      	<a href="#">Bot 3</a>
      </div>
   </div>
  </a>
</div>

<div class="pt-5 text-center">
<!--
<TABLE id="myTable" CELLPADDING="2" CELLSPACING="2" WIDTH="100%" class="table">
<TR>
<TD class = style BGCOLOR="#CCCCCC">Id</TD>
<TD class = style BGCOLOR="#CCCCCC">Bot name </TD>
<TD class = style BGCOLOR="#CCCCCC">Port</TD>
<TD class = style BGCOLOR="#CCCCCC">Status</TD>
</TR>
</TABLE>
-->

<%
  if(botList != undefined){
  %>
<table class="table table-striped table-light" border = "1">
    <tr class = thead-dark><th>Bot name</th><th>Running on port</th><th>Brain</th><th>Status</th></tr>
      <%
        for(let i = 0; i < botList.botNames.length; i++){
      %>
      <tr>
        <td><%= botList.botNames[i] %></td>
        <td><%= botList.ports[i] %></td>
        <td><%= botList.brains[i] %></td>
        <td><%= botList.statuses[i] %></td>
      </tr>
  <% } %>
</table>
<% }else{ %>
<div><h2 class= "text-danger">Bot list is empty</h2></div>
<% } %>
</div>


</div>


<form action="/createBot" method = "post">
<label for="name"> Enter Bot name : </label>
<input type="text" id="name" name="name" required>
<label for="port"> Enter Bot port :</label>
<input type="text" id="port" name="port" required>
<button type = "submit" class="bouton">Create</button>
</form>

<div>
<input type="text" name="id" id="id" required>
<button type= "submit" class="bouton">Delete</button>
</div>

<script>

///////Fonction de gestion de la table cot√© client//////

/*
function myCreateFunction() {

  var table = document.getElementById("myTable");
  var row = table.insertRow(document.getElementsByTagName("TR").length);
  var cell0 = row.insertCell(0);
  var cell1 = row.insertCell(1);
  var cell2 = row.insertCell(2);
  var cell3 = row.insertCell(3);
  cell0.innerHTML = document.getElementsByTagName("TR").length-1;
  cell1.innerHTML = document.getElementById('name').value;
  cell2.innerHTML = document.getElementById('port').value;
  cell3.innerHTML = "online";
}

function myDeleteFunction() {
 var x = document.getElementsByTagName("TR");
 var n = x.length;
 var i = parseInt(document.getElementById('id').value);
 //console.log ("taille=" + n);
 if ( (i<=n) & (i>0) ){
  document.getElementById("myTable").deleteRow(i);
  var k;
  for (k = i; k < n-1; k++) {
    var tmp = x[k].cells[0].innerHTML-1;
    x[k].cells[0].innerHTML = tmp;
  }
 }
}*/

</script>

<div>
<form action = "/modify" method = "post">
<label for="name"> Enter Bot name : </label>
<input type="text" id="name" name="name" required>
<label for="port"> Enter Bot port :</label>
<input type="text" id="port" name="port" required>
<label for="status"> Enter status : </label>
<input type="text" id="status" name="status" required>
<label for="brain"> Enter Bot brain :</label>
<input type="text" id="brain" name="brain" required>
  <input type = "submit" class="bouton" value = "Modify">
</form>
</div>

</body>
</html>

